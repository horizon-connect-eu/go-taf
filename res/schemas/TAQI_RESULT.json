{
   "$schema":"http://json-schema.org/draft-07/schema#",
   "$id":"https://connect.informatik.uni-ulm.de/coordination/taf-implementation/-/tree/main/TAF_External_Interfaces/Messaging/TAQI_RESULT/",
   "title":"TAQI_RESULT",
   "type":"object",
   "properties":{
      "error":{
         "type":"string"
      },
      "results":{
         "type":"array",
         "items":{
            "type":"object",
            "properties":{
               "id":{
                  "description":"The identifier of the trust model instance.",
                  "type":"string"
               },
               "propositions":{
                  "type":"array",
                  "items":{
                     "type":"object",
                     "properties":{
                        "propositionId":{
                           "description":"The identifier of the proposition.",
                           "type":"string"
                        },
                        "actualTrustworthinessLevel":{
                           "type":"array",
                           "items":{
                              "oneOf":[
                                 {
                                    "type":"object",
                                    "properties":{
                                       "type":{
                                          "type":"string",
                                          "enum":[
                                             "SUBJECTIVE_LOGIC_OPINION"
                                          ]
                                       },
                                       "output":{
                                          "type":"object",
                                          "properties":{
                                             "belief":{
                                                "type":"number"
                                             },
                                             "disbelief":{
                                                "type":"number"
                                             },
                                             "uncertainty":{
                                                "type":"number"
                                             },
                                             "baseRate":{
                                                "type":"number"
                                             }
                                          },
                                          "required":[
                                             "belief",
                                             "disbelief",
                                             "uncertainty",
                                             "baseRate"
                                          ]
                                       }
                                    },
                                    "required":[
                                       "type",
                                       "output"
                                    ]
                                 },
                                 {
                                    "type":"object",
                                    "properties":{
                                       "type":{
                                          "type":"string",
                                          "enum":[
                                             "PROJECTED_PROBABILITY"
                                          ]
                                       },
                                       "output":{
                                          "type":"object",
                                          "properties":{
                                             "value":{
                                                "type":"number"
                                             }
                                          },
                                          "required":[
                                             "value"
                                          ]
                                       }
                                    },
                                    "required":[
                                       "type",
                                       "output"
                                    ]
                                 }
                              ]
                           },
                           "minItems":1
                        },
                        "trustDecision":{
                           "description":"The result of the trust decision engine.",
                           "anyOf":[
                              {
                                 "type":"boolean"
                              },
                              {
                                 "type":"null"
                              }
                           ]
                        }
                     },
                     "required":[
                        "propositionId",
                        "actualTrustworthinessLevel",
                        "trustDecision"
                     ]
                  },
                  "minItems":0
               }
            },
            "required":[
               "id",
               "propositions"
            ]
         },
         "minItems":1
      }
   },
   "oneOf":[
      {
         "required":[
            "error"
         ]
      },
      {
         "required":[
            "results"
         ]
      }
   ]
}
