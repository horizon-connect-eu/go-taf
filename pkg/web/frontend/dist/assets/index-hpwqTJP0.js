import{_ as T,V as C,R as $}from"./index-B0FZASXe.js";import{d as x,r as n,u as B,c as D,a as y,b as d,e as i,w as s,f as v,V as S,T as g,g as A,F as b,o,h as U,i as r,t as u,j as M,k as R,l as w}from"./index-BEe3quP2.js";const z={class:"mt-1"},j={class:"mt-1"},F={class:"mt-1"},L=x({__name:"index",setup(H){const a=n([]),c=n([]),V=n(null),m=B(),p=[{maxWidth:"125px",filterable:!0,title:"Client",key:"Client"},{filterable:!0,title:"Session ID",key:"SessionID"},{filterable:!0,title:"Template",key:"Template"},{filterable:!0,title:"Active",key:"IsActive"},{filterable:!0,title:"TMIs",key:"TMIs"}],I=D(()=>Object.values(m.sessions)),f=n(document.body.clientHeight-48);function _(){f.value=document.body.clientHeight-48}return(N,t)=>{const h=T;return o(),y(b,null,[(o(),d(g,{to:"#toolbar"},[i(h,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),columns:p,items:I.value,"sync-to-query":"","sort-by":a.value,"onUpdate:sortBy":t[1]||(t[1]=e=>a.value=e),defaults:{}},null,8,["modelValue","items","sort-by"]),i(S,{icon:"",title:"Refresh",size:"small",onClick:t[2]||(t[2]=e=>v(m).fetchSessions()),variant:"text"},{default:s(()=>[i(U,{icon:"mdi-reload"})]),_:1})])),A((o(),d(v(C),{headers:p,items:c.value,height:f.value,"multi-sort":"","sort-by":a.value,"onUpdate:sortBy":t[3]||(t[3]=e=>a.value=e),ref_key:"table",ref:V},{"item.Client":s(({item:e})=>[r("code",z,u(e.Client),1)]),"item.SessionID":s(({item:e})=>[r("code",j,u(e.SessionID),1)]),"item.Template":s(({item:e})=>[r("code",F,u(e.Template),1)]),"item.IsActive":s(({item:e})=>[i(M,{modelValue:e.IsActive,"onUpdate:modelValue":l=>e.IsActive=l,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),"item.TMIs":s(({item:e})=>[(o(!0),y(b,null,R(e.TMIs,(l,k)=>(o(),d(w,{key:k,to:`/tmis/${e.Client}/${e.SessionID}/${e.Template}/${l}`,class:"mx-1",title:`//${e.Client}/${e.SessionID}/${e.Template}/${l}`},{default:s(()=>[r("code",null,"/"+u(l),1)]),_:2},1032,["to","title"]))),128))]),_:2},1032,["items","height","sort-by"])),[[$,_]])],64)}}});export{L as default};
