import{_ as x,V as B,R as g}from"./index-B0FZASXe.js";import{d as D,r as o,u as T,c as C,a as R,b as p,e as a,w as s,f,V as U,T as w,g as M,F as z,m as S,o as n,h as $,i as r,t as u,j}from"./index-BEe3quP2.js";const A={class:"mt-1"},F={class:"mt-1"},H={class:"mt-1"},E=D({__name:"index",setup(N){const i=o([]),l=o([]),v=o(null),y=S(),c=T(),m=[{maxWidth:"100px",filterable:!0,title:"ID",key:"id"},{maxWidth:"125px",filterable:!0,title:"Client",key:"client"},{filterable:!0,title:"Session ID",key:"sessionID"},{filterable:!0,title:"Template",key:"template"},{filterable:!0,title:"Active",key:"active"},{filterable:!0,title:"Latest Version",key:"latestVersion"}],b=C(()=>Object.values(c.trustModelInstances)),d=o(document.body.clientHeight-48);function V(){d.value=document.body.clientHeight-48}function h(_,{item:t}){y.push(`/tmis/${t.fullTMI.replace(/^\/*/,"")}`)}return(_,t)=>{const k=x;return n(),R(z,null,[(n(),p(w,{to:"#toolbar"},[a(k,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),columns:m,items:b.value,"sync-to-query":"","sort-by":l.value,"onUpdate:sortBy":t[1]||(t[1]=e=>l.value=e),defaults:{}},null,8,["modelValue","items","sort-by"]),a(U,{icon:"",title:"Refresh",size:"small",onClick:t[2]||(t[2]=e=>f(c).fetchTrustModelInstances()),variant:"text"},{default:s(()=>[a($,{icon:"mdi-reload"})]),_:1})])),M((n(),p(f(B),{headers:m,items:i.value,height:d.value,"multi-sort":"","sort-by":l.value,"onUpdate:sortBy":t[3]||(t[3]=e=>l.value=e),ref_key:"table",ref:v,"onClick:row":h},{"item.client":s(({item:e})=>[r("code",A,u(e.client),1)]),"item.sessionID":s(({item:e})=>[r("code",F,u(e.sessionID),1)]),"item.template":s(({item:e})=>[r("code",H,u(e.template),1)]),"item.active":s(({item:e})=>[a(j,{modelValue:e.active,"onUpdate:modelValue":I=>e.active=I,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["items","height","sort-by"])),[[g,V]])],64)}}});export{E as default};
