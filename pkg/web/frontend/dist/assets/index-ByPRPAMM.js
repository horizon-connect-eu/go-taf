import{_ as B,V as _,R as g}from"./index-BHTGueED.js";import{d as T,r as a,u as C,c as D,a as R,b as c,e as s,w as o,f as m,V as U,T as w,g as M,F as z,h as A,o as n,i as S,j as p,t as f,k as $}from"./index-HWXnjpE_.js";const N=T({__name:"index",setup(j){const i=a([]),l=a([]),v=a(null),y=A(),r=C(),u=[{maxWidth:"100px",filterable:!0,title:"ID",key:"id"},{maxWidth:"125px",filterable:!0,title:"Application",key:"application"},{filterable:!0,title:"Session ID",key:"sessionId"},{filterable:!0,title:"Template",key:"template"},{filterable:!0,title:"Active",key:"active"},{filterable:!0,title:"Latest Version",key:"latestVersion"}],b=D(()=>Object.values(r.trustModelInstances)),d=a(document.body.clientHeight-48);function V(){d.value=document.body.clientHeight-48}function k(h,{item:t}){y.push(`/tmis/${t.fullTMI.replace(/^\/*/,"")}`)}return(h,t)=>{const I=B;return n(),R(z,null,[(n(),c(w,{to:"#toolbar"},[s(I,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),columns:u,items:b.value,"sync-to-query":"","sort-by":l.value,"onUpdate:sortBy":t[1]||(t[1]=e=>l.value=e),defaults:{}},null,8,["modelValue","items","sort-by"]),s(U,{icon:"",title:"Refresh",size:"small",onClick:t[2]||(t[2]=e=>m(r).fetchTrustModelInstances()),variant:"text"},{default:o(()=>[s(S,{icon:"mdi-reload"})]),_:1})])),M((n(),c(m(_),{headers:u,items:i.value,height:d.value,"multi-sort":"","sort-by":l.value,"onUpdate:sortBy":t[3]||(t[3]=e=>l.value=e),ref_key:"table",ref:v,"onClick:row":k},{"item.sessionId":o(({item:e})=>[p("code",null,f(e.sessionId),1)]),"item.template":o(({item:e})=>[p("code",null,f(e.template),1)]),"item.active":o(({item:e})=>[s($,{modelValue:e.active,"onUpdate:modelValue":x=>e.active=x,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["items","height","sort-by"])),[[g,V]])],64)}}});export{N as default};
